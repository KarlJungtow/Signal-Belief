{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}Treatment 2 — Income Info (Round {{ player.round_number }} of {{ C.NUM_ROUNDS }}){% endblock %}

{% block content %}
<p>
  First, you will receive information about your income. You know, that the chances, that π = 0.5 or π = 1.5 are
  <strong>50/50</strong> . There is <strong>no feedback</strong>.
</p>

<div class="card mb-3">
  <div class="card-body">
    <ul>
      <li>Current income: <strong>y₁ = {{ y1 }}</strong></li>
      <li>Price now: <strong>p₁ = {{ p1 }}</strong></li>
      <li>Income profile: <strong>x = {{ x }}</strong> (0.5 = decreasing, 1.5 = increasing)</li>
      <li>Future income is indexed: <code>y₂ = π · x · y₁</code></li>
      <li>If π = 0.5 ⇒ y₂ = <strong>{{ y2_pi05 }}</strong>; if π = 1.5 ⇒ y₂ = <strong>{{ y2_pi15 }}</strong></li>
    </ul>
  </div>
</div>

<div class="card mb-3">
  <div class="card-body">
    <p><strong>Utility reference (not feedback):</strong> u(c₁,c₂) = c₁ · c₂</p>
    <p>Utilities for integer c₁ (1–20) under both possible π values. “—” marks infeasible (c₂ &lt; 1).</p>
    <table class="table table-sm table-bordered align-middle">
      <thead>
        <tr>
          <th style="width:10%">c₁</th>
          <th>u at π = 0.5</th>
          <th>u at π = 1.5</th>
        </tr>
      </thead>
      <tbody>
        {% for row in table_rows %}
        <tr>
          <td>{{ row.c1 }}</td>
          <td>{% if row.infeasible05 %}—{% else %}{{ row.u05 }}{% endif %}</td>
          <td>{% if row.infeasible15 %}—{% else %}{{ row.u15 }}{% endif %}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{{ next_button }}
{% endblock %}

